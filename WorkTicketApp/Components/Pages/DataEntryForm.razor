@page "/dataentry"


<h3>Work Ticket Entry Form</h3>

<EditForm Model="@ticket" OnValidSubmit="HandleValidSubmit">
    <DataAnnotationsValidator />
    <ValidationSummary />

    <div>
        <label>Work Ticket Number:</label>
        <InputText @bind-Value="ticket.TicketNumber" />
    </div>

    <div>
        <label>Cost Centre:</label>
        <InputText @bind-Value="ticket.CostCentre" />
    </div>

    <div>
        <label>Activity:</label>
        <InputText @bind-Value="ticket.Activity" />
    </div>

    <div>
        <label>Operator Name:</label>
        <InputText @bind-Value="ticket.OperatorName" />
    </div>

    <div>
        <label>Number of Operators:</label>
        <InputNumber @bind-Value="ticket.NumOperators" />
    </div>

    <div>
        <label>Start Date & Time:</label>
        <InputDate @bind-Value="ticket.StartDateTime" />
    </div>

    <div>
        <label>Start Counter:</label>
        <InputNumber @bind-Value="ticket.StartCounter" />
    </div>

    <div>
        <label>End Date & Time:</label>
        <InputDate @bind-Value="ticket.EndDateTime" />
    </div>

    <div>
        <label>End Counter:</label>
        <InputNumber @bind-Value="ticket.EndCounter" />
    </div>

    <div>
        <label>Quantity In:</label>
        <InputNumber @bind-Value="ticket.QuantityIn" />
    </div>

    <div>
        <label>Quantity Out:</label>
        <InputNumber @bind-Value="ticket.QuantityOut" />
    </div>

    <div>
        <label>Material Used:</label>
        <InputText @bind-Value="ticket.MaterialUsed" />
    </div>

    <button type="submit">Save</button>
</EditForm>

@code {
    private WorkTicket ticket = new();

    private void HandleValidSubmit()
    {
        // TODO: Save to SQL via EF Core
        Console.WriteLine("Ticket saved!");
    }

    public class WorkTicket
    {
        public string TicketNumber { get; set; }
        public string CostCentre { get; set; }
        public string Activity { get; set; }
        public string OperatorName { get; set; }
        public int NumOperators { get; set; }
        public DateTime StartDateTime { get; set; }
        public int StartCounter { get; set; }
        public DateTime EndDateTime { get; set; }
        public int EndCounter { get; set; }
        public int QuantityIn { get; set; }
        public int QuantityOut { get; set; }
        public string MaterialUsed { get; set; }
    }
}
